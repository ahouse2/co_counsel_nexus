# Build Log — 2025-11-06

- **Scope:** PRP Phase 4 Forensics Core — pipeline orchestration, modality analyzers, API/trace wiring.
- **Highlights:**
  - Refactored `ForensicsService` into staged pipelines with canonicalisation, metadata, and analyzer stages plus schema-versioned reports.
  - Delivered document/image/financial analyzers (entropy metrics, EXIF/ELA/clone heuristics, IsolationForest/z-score anomaly detection) with persisted artefacts and CLI tooling.
  - Extended ingestion manifests and `/query` traces with forensics handles; upgraded FastAPI responses and validation coverage.
- **Tests:**
  - `pytest backend/tests -q`
- **Notes:**
  - Reports now persist under `storage/forensics/<doc_id>/report.json` with per-artifact audit trails and fallback tracking.
  - CLI `python -m backend.tools.forensics dump --id <doc>` renders stored artefacts; integration tests cover low-resolution fallbacks and anomaly surfacing.
